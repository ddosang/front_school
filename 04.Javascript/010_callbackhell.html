<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>

    <style>

    </style>
</head>

<body>
    <script>
        var userdb = [
            {
                "_id": "61ad9e21d562f0311e770971",
                "index": 0,
                "picture": "http://placehold.it/32x32",
                "age": 26,
                "eyeColor": "blue",
                "name": "Hines Hampton",
                "gender": "male",
                "company": "BIFLEX",
                "email": "hineshampton@biflex.com",
                "phone": "+1 (922) 584-2106",
                "address": "623 Jerome Street, Evergreen, Puerto Rico, 5308"
            },
            {
                "_id": "61ad9e213d4d9171c9abe0f2",
                "index": 1,
                "picture": "http://placehold.it/32x32",
                "age": 37,
                "eyeColor": "blue",
                "name": "Kendra Stone",
                "gender": "female",
                "company": "POOCHIES",
                "email": "kendrastone@poochies.com",
                "phone": "+1 (847) 551-2575",
                "address": "226 Rockaway Parkway, Dana, Virginia, 287"
            },
            {
                "_id": "61ad9e213277d346f5df83ae",
                "index": 2,
                "picture": "http://placehold.it/32x32",
                "age": 29,
                "eyeColor": "blue",
                "name": "Selma Avery",
                "gender": "female",
                "company": "ESCENTA",
                "email": "selmaavery@escenta.com",
                "phone": "+1 (995) 451-3103",
                "address": "933 Mill Lane, Advance, Indiana, 4845"
            },
            {
                "_id": "61ad9e21b2a817cf9e301f62",
                "index": 3,
                "picture": "http://placehold.it/32x32",
                "age": 21,
                "eyeColor": "blue",
                "name": "Ellis Pacheco",
                "gender": "male",
                "company": "COMVEY",
                "email": "ellispacheco@comvey.com",
                "phone": "+1 (958) 583-3238",
                "address": "461 Berry Street, Hannasville, New York, 2213"
            },
            {
                "_id": "61ad9e217f841271f2bb28c4",
                "index": 4,
                "picture": "http://placehold.it/32x32",
                "age": 31,
                "eyeColor": "green",
                "name": "Mccarthy Farmer",
                "gender": "male",
                "company": "ISOTRACK",
                "email": "mccarthyfarmer@isotrack.com",
                "phone": "+1 (848) 419-2632",
                "address": "397 Saratoga Avenue, Kylertown, Palau, 853"
            },
            {
                "_id": "61ad9e21f769b8b03f51a6c5",
                "index": 5,
                "picture": "http://placehold.it/32x32",
                "age": 28,
                "eyeColor": "green",
                "name": "Wells Mcintosh",
                "gender": "male",
                "company": "PHUEL",
                "email": "wellsmcintosh@phuel.com",
                "phone": "+1 (858) 578-3765",
                "address": "666 Lorimer Street, Kaka, Kentucky, 5675"
            },
            {
                "_id": "61ad9e215e7c01f9d63f3662",
                "index": 6,
                "picture": "http://placehold.it/32x32",
                "age": 39,
                "eyeColor": "brown",
                "name": "Emily Olsen",
                "gender": "female",
                "company": "TETRATREX",
                "email": "emilyolsen@tetratrex.com",
                "phone": "+1 (909) 524-2208",
                "address": "191 Rapelye Street, Grapeview, Tennessee, 4118"
            },
            {
                "_id": "61ad9e21256ec75db2b512cb",
                "index": 7,
                "picture": "http://placehold.it/32x32",
                "age": 34,
                "eyeColor": "green",
                "name": "Huff Jensen",
                "gender": "male",
                "company": "SUPPORTAL",
                "email": "huffjensen@supportal.com",
                "phone": "+1 (867) 595-3348",
                "address": "203 Plymouth Street, Tecolotito, Missouri, 4523"
            }
        ]


        class GetUserData {
            login(아이디, 비밀번호, 성공, 실패) {
                // 수업에서는 data.js를 다시 가져와서 userdb 라는 이름으로 선언 후 사용.
                const data = userdb.find(user => user.id === 아이디 && user.pw === 비밀번호);
                if (data) {
                    성공(아이디);
                } else {
                    실패(new Error('로그인 실패'));
                    // 실패시 보여아하는 페이지 코딩 필요.
                }
            }

            getUserDataSet(이용자, 성공, 실패) {
                const data = data.find(user => user.id === 이용자);
                if (data) {
                    성공({
                        id: data.id,
                        picture: data.picture,
                        name: data.name,
                        email: data.email
                    })
                } else {
                    실패(new Error('데이터 베이스 로드 실패!'));
                }
            }
        }

        const userData = new GetUserData();
        const id = 'hojun';
        const pw = '1234';
        // 인자를 화살표 콜백으로 전달.
        userData.login(
            id,
            pw,
            (userID) => {
                userData.getUserDataSet(
                    userID,
                    (userBasicInfo) => {
                        // grade에 따른 콜백을 또 넣어야 한다...
                        console.log(userBasicInfo);
                    },
                    (실패) => {
                        console.log(실패);
                    }
                )
            },
            (실패) => {
                console.log(실패);
            }
        )
    </script>
</body>

</html>